<diff>
	
	
	
	<!-- change event driven gate connection -->
	<add sel="//cue[@name='BoronFaction_States']/actions">
		
		<!-- Atreus' Clouds   to   Shore of Infinity -->
		<find_sector macro="macro.Sector_SKY20s01_macro" space="player.galaxy" required="true" name="$ShoreInfinitySector"/>
		<find_gate name="$AtreusCloudGates" multiple="true" space="$AtreusCloudSector" active="false" />
		<do_for_each name="$g" in="$AtreusCloudGates">
			<do_if value=" ($g.exit.exists) and ($g.exit.sector == $ShoreInfinitySector)">
				<set_value name="$Gates_Atreus_Shore" exact="$g" />
				<set_value name="$Gates_Shore_Atreus" exact="$g.exit" />
			</do_if>
		</do_for_each>
		
		<!-- Ocean of Fantasy   to   Dark Waters -->
		<find_sector macro="macro.Sector_SKY23s01_macro" space="player.galaxy" required="true" name="$DarkWatersSector"/>
		<find_gate name="$OceanOfFantasyGates" multiple="true" space="$OceanOfFantasySector" active="false" />
		<do_for_each name="$g" in="$OceanOfFantasyGates">
			<do_if value=" ($g.exit.exists) and ($g.exit.sector == $DarkWatersSector)">
				<set_value name="$Gates_Ocean_Dark" exact="$g" />
				<set_value name="$Gates_Dark_Ocean" exact="$g.exit" />
			</do_if>
		</do_for_each>
		
		<!-- Barren Shores   to   Light Water -->
		<find_sector macro="macro.Sector_SKY21s01_macro" space="player.galaxy" required="true" name="$LightWaterSector"/>
		<find_gate name="$BarrenShoresGates" multiple="true" space="$BarrenShoresSector" active="false" />
		<do_for_each name="$g" in="$BarrenShoresGates">
			<do_if value=" ($g.exit.exists) and ($g.exit.sector == $LightWaterSector)">
				<set_value name="$Gates_Barren_Light" exact="$g" />
				<set_value name="$Gates_Light_Barren" exact="$g.exit" />
			</do_if>
		</do_for_each>
		
		<!-- Watchful Gaze   to   Mists of Elysium -->
		<find_sector macro="macro.Sector_SKY19s01_macro" space="player.galaxy" required="true" name="$MistsElysiumSector"/>
		<find_gate name="$WatchfulGazeGates" multiple="true" space="$WatchfulGazeSector" active="false" />
		<do_for_each name="$g" in="$WatchfulGazeGates">
			<do_if value=" ($g.exit.exists) and ($g.exit.sector == $MistsElysiumSector)">
				<set_value name="$Gates_Gaze_Mists" exact="$g" />
				<set_value name="$Gates_Mists_Gaze" exact="$g.exit" />
			</do_if>
		</do_for_each>
		
	</add>
	
	
	
	<!-- mirror the actions in the patch version -->
	<add sel="//cue[@name='BoronFaction_States']/patch[@sinceversion='3']">
		
		<!-- Atreus' Clouds   to   Shore of Infinity -->
		<find_sector macro="macro.Sector_SKY20s01_macro" space="player.galaxy" required="true" name="$ShoreInfinitySector"/>
		<find_gate name="$AtreusCloudGates" multiple="true" space="$AtreusCloudSector" active="false" />
		<do_for_each name="$g" in="$AtreusCloudGates">
			<do_if value=" ($g.exit.exists) and ($g.exit.sector == $ShoreInfinitySector)">
				<set_value name="$Gates_Atreus_Shore" exact="$g" />
				<set_value name="$Gates_Shore_Atreus" exact="$g.exit" />
			</do_if>
		</do_for_each>
		
		<!-- Ocean of Fantasy   to   Dark Waters -->
		<find_sector macro="macro.Sector_SKY23s01_macro" space="player.galaxy" required="true" name="$DarkWatersSector"/>
		<find_gate name="$OceanOfFantasyGates" multiple="true" space="$OceanOfFantasySector" active="false" />
		<do_for_each name="$g" in="$OceanOfFantasyGates">
			<do_if value=" ($g.exit.exists) and ($g.exit.sector == $DarkWatersSector)">
				<set_value name="$Gates_Ocean_Dark" exact="$g" />
				<set_value name="$Gates_Dark_Ocean" exact="$g.exit" />
			</do_if>
		</do_for_each>
		
		<!-- Barren Shores   to   Light Water -->
		<find_sector macro="macro.Sector_SKY21s01_macro" space="player.galaxy" required="true" name="$LightWaterSector"/>
		<find_gate name="$BarrenShoresGates" multiple="true" space="$BarrenShoresSector" active="false" />
		<do_for_each name="$g" in="$BarrenShoresGates">
			<do_if value=" ($g.exit.exists) and ($g.exit.sector == $LightWaterSector)">
				<set_value name="$Gates_Barren_Light" exact="$g" />
				<set_value name="$Gates_Light_Barren" exact="$g.exit" />
			</do_if>
		</do_for_each>
		
		<!-- Watchful Gaze   to   Mists of Elysium -->
		<find_sector macro="macro.Sector_SKY19s01_macro" space="player.galaxy" required="true" name="$MistsElysiumSector"/>
		<find_gate name="$WatchfulGazeGates" multiple="true" space="$WatchfulGazeSector" active="false" />
		<do_for_each name="$g" in="$WatchfulGazeGates">
			<do_if value=" ($g.exit.exists) and ($g.exit.sector == $MistsElysiumSector)">
				<set_value name="$Gates_Gaze_Mists" exact="$g" />
				<set_value name="$Gates_Mists_Gaze" exact="$g.exit" />
			</do_if>
		</do_for_each>
		
	</add>
	
	
	
	<!-- Add custom connection to activator cue -->
	<add sel="//cue[@name='Boron_Gates_Open_RemainingSystems']/actions">
		
		<set_object_active object="$Gates_Atreus_Shore" />
		<set_object_active object="$Gates_Ocean_Dark"   />
		<set_object_active object="$Gates_Barren_Light" />
		<set_object_active object="$Gates_Gaze_Mists"   />

	</add>
	
</diff>